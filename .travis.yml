language:
    - cpp
    - python

python:
  - "2.6"
  - "2.7"
  - "3.3"
  - "3.4"

compiler:
    - gcc
    - clang

before_install:
    - mkdir /tmp/cmake-installation
    - cd /tmp/cmake-installation
    - touch more
    - chmod a+x more
    - wget http://www.cmake.org/files/v3.3/cmake-3.3.0-Linux-x86_64.sh
    - yes | sudo PATH=/tmp/cmake-installation:$PATH sh cmake-3.3.0-Linux-x86_64.sh --prefix=/opt
    - sudo ln -f -s /opt/cmake-3.3.0-Linux-x86_64/bin/cmake /usr/local/bin/cmake
    - cd -

install:
    - sudo apt-get install libboost-python-dev

script:
    - mkdir build
    - cd build
    - cmake ..
    - cmake --build .
    - make install
    - ctest --output-on-failure
